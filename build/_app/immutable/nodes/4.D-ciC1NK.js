import"../chunks/NZTpNUN0.js";import{i as L}from"../chunks/DMUIYdUu.js";import{o as b,V as N,W as x,X as I,Y as T,e as q,Z as w,_ as v,F as C,G as O,I as i,C as D,L as H,O as f,D as V,H as G,J as y,K as k,N as d,M as c}from"../chunks/DYOkSRX5.js";import{a as K,l as R,e as U,s as S}from"../chunks/BjC2-kMD.js";import{s as W,r as Y,d as $}from"../chunks/DUep5fmD.js";const B=Symbol("is custom element"),F=Symbol("is html");function J(e){if(b){var a=!1,s=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var l=e.value;A(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var r=e.checked;A(e,"checked",null),e.checked=r}}};e.__on_r=s,N(s),K()}}function A(e,a,s,l){var r=P(e);b&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=s)&&(a==="loading"&&(e[x]=s),e.removeAttribute(a))}function P(e){return e.__attributes??={[B]:e.nodeName.includes("-"),[F]:e.namespaceURI===I}}function X(e,a,s=a){var l=T(),r=new WeakSet;R(e,"input",n=>{var t=n?e.defaultValue:e.value;if(t=m(e)?h(t):t,s(t),v!==null&&r.add(v),l&&t!==(t=a())){var u=e.selectionStart,o=e.selectionEnd;e.value=t??"",o!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(o,e.value.length))}}),(b&&e.defaultValue!==e.value||q(a)==null&&e.value)&&(s(m(e)?h(e.value):e.value),v!==null&&r.add(v)),w(()=>{var n=a();e===document.activeElement&&r.has(v)||m(e)&&n===h(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function m(e){var a=e.type;return a==="number"||a==="range"}function h(e){return e===""?null:+e}var Z=O('<h1>아래에 연결 코드를 입력하세요.</h1> <input type="text" placeholder="연결 코드 입력..." maxlength="8" class="svelte-q1t75g"/> <br/> <button class="svelte-q1t75g"> </button> <p class="svelte-q1t75g"> </p>',1);function ae(e,a){C(a,!1);let s=d(""),l=d(!1),r=d("");async function n(){if(f(s).trim().length===0){c(r,"연결 코드를 입력해주세요.");return}c(l,!0),c(r,"");try{await W(Y($,`sessions/${f(s)}`),{status:"connected",connectedAt:Date.now()}),c(r,"연결 성공")}catch(_){console.error(_),c(r,"연결 실패: 올바르지 않은 코드입니다.")}finally{c(l,!1)}}L();var t=Z(),u=i(D(t),2);J(u);var o=i(u,4),E=y(o,!0);k(o);var g=i(o,2),M=y(g,!0);k(g),H(()=>{o.disabled=f(l),S(E,f(l)?"연결 중...":"연결"),S(M,f(r))}),X(u,()=>f(s),_=>c(s,_)),U("click",o,n),V(e,t),G()}export{ae as component};
