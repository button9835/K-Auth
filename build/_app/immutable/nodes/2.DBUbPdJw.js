import"../chunks/NZTpNUN0.js";import{i as y}from"../chunks/CCu0DKIL.js";import{D as m,V as A,W as E,X as M,Y as L,q as N,Z as T,_ as c,p as w,f as I,a as x,t as C,g as i,b as O,c as R,e as b,d as V,r as p,m as g,s as v}from"../chunks/Bd2Kuv0O.js";import{a as q,l as D,e as H,s as U}from"../chunks/ByKmBeG8.js";import{r as W,d as Y,g as B,u as G}from"../chunks/ocYr2Snw.js";const K=Symbol("is custom element"),P=Symbol("is html");function X(e){if(m){var a=!1,s=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;k(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;k(e,"checked",null),e.checked=r}}};e.__on_r=s,A(s),q()}}function k(e,a,s,n){var r=Z(e);m&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=s)&&(a==="loading"&&(e[E]=s),e.removeAttribute(a))}function Z(e){return e.__attributes??={[K]:e.nodeName.includes("-"),[P]:e.namespaceURI===M}}function $(e,a,s=a){var n=L(),r=new WeakSet;D(e,"input",l=>{var t=l?e.defaultValue:e.value;if(t=_(e)?d(t):t,s(t),c!==null&&r.add(c),n&&t!==(t=a())){var f=e.selectionStart,o=e.selectionEnd;e.value=t??"",o!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(o,e.value.length))}}),(m&&e.defaultValue!==e.value||N(a)==null&&e.value)&&(s(_(e)?d(e.value):e.value),c!==null&&r.add(c)),T(()=>{var l=a();e===document.activeElement&&r.has(c)||_(e)&&l===d(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function _(e){var a=e.type;return a==="number"||a==="range"}function d(e){return e===""?null:+e}var j=I('<input placeholder="인증 코드 입력"/> <button>연결</button> <p> </p>',1);function ae(e,a){w(a,!1);let s=g(""),n=g("");async function r(){const u=W(Y,"sessions/"+i(s)),h=await B(u);h.exists()&&h.val().status==="waiting"?(await G(u,{status:"connected"}),v(n,"연결 성공! 게임 시작!")):v(n,"잘못된 코드입니다.")}y();var l=j(),t=x(l);X(t);var f=b(t,2),o=b(f,2),S=V(o,!0);p(o),C(()=>U(S,i(n))),$(t,()=>i(s),u=>v(s,u)),H("click",f,r),O(e,l),R()}export{ae as component};
