import"../chunks/NZTpNUN0.js";import"../chunks/mMU82iYX.js";import{D as m,V as y,W as A,X as E,Y as M,q as L,Z as N,_ as c,p as T,f as w,b as I,t as x,g as i,a as p,c as C,e as b,d as O,r as R,m as g,s as v}from"../chunks/BlgE9fMR.js";import{a as V,l as q,e as D,s as H}from"../chunks/BZffRN6g.js";import{i as U}from"../chunks/BlqPrz6N.js";import{r as W,d as Y,g as B,u as G}from"../chunks/ocYr2Snw.js";const K=Symbol("is custom element"),P=Symbol("is html");function X(e){if(m){var a=!1,s=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;k(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;k(e,"checked",null),e.checked=r}}};e.__on_r=s,y(s),V()}}function k(e,a,s,n){var r=Z(e);m&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=s)&&(a==="loading"&&(e[A]=s),e.removeAttribute(a))}function Z(e){return e.__attributes??={[K]:e.nodeName.includes("-"),[P]:e.namespaceURI===E}}function $(e,a,s=a){var n=M(),r=new WeakSet;q(e,"input",l=>{var t=l?e.defaultValue:e.value;if(t=_(e)?d(t):t,s(t),c!==null&&r.add(c),n&&t!==(t=a())){var f=e.selectionStart,o=e.selectionEnd;e.value=t??"",o!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(o,e.value.length))}}),(m&&e.defaultValue!==e.value||L(a)==null&&e.value)&&(s(_(e)?d(e.value):e.value),c!==null&&r.add(c)),N(()=>{var l=a();e===document.activeElement&&r.has(c)||_(e)&&l===d(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function _(e){var a=e.type;return a==="number"||a==="range"}function d(e){return e===""?null:+e}var j=w('<input placeholder="인증 코드 입력"/> <button>연결</button> <p> </p>',1);function se(e,a){T(a,!1);let s=g(""),n=g("");async function r(){const u=W(Y,"sessions/"+i(s)),h=await B(u);h.exists()&&h.val().status==="waiting"?(await G(u,{status:"connected"}),v(n,"연결 성공! 게임 시작!")):v(n,"잘못된 코드입니다.")}U();var l=j(),t=I(l);X(t);var f=b(t,2),o=b(f,2),S=O(o,!0);R(o),x(()=>H(S,i(n))),$(t,()=>i(s),u=>v(s,u)),D("click",f,r),p(e,l),C()}export{se as component};
